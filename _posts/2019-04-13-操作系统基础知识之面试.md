---
layout: post
title: 操作系统基础知识之面试
subtitle: 
date: 2019-04-13
author: Laqudee.Zhao
header-img: img/post-bg-debug.png
catalog: true
tags:
    - 操作系统
    - Java
---

## 1、什么是操作系统？
- 管理计算机软硬件资源的程序，是计算机系统的内核与基石；
- 操作系统本质上是运行在计算机上的软件程序；
- 为用户提供一个与系统交互的操作界面；
- 操作系统分内核与外壳（外壳是围绕内核的应用程序，内核就是能操作硬件的程序）

## 2、进程和线程的区别是什么？
- 一个进程中可以有多个线程，多个线程共享进程的堆和方法区（JDK1.8之后的元空间）资源，但每个线程都有自己的程序计数器、虚拟机栈和本地方法栈。
- 总结
  - 线程划分成的更小的运行单位，一个进程在其执行的过程中可以产生多个线程。线程和进程最大的区别就是在于基本上各进程是独立的，而各进程则不一定，因为同一进程中的线程极有可能会相互影响。线程执行开销小，但不利于资源的管理和保护；而进程正相反。

## 2、进程有哪几种状态？
- 创建状态（new）：进程正在被创建，尚未到就绪状态。
- 就绪状态（ready）：进程已处于运行状态，即进程获得除处理器外的一切所需资源，一旦得到处理器资源（处理器分配的时间片）即可运行。
- 运行状态（running）：进程正在处理器上运行（单核CPU下任意时刻只有一个进程处于运行状态）。
- 阻塞状态（waiting）：进程正在从系统中消失。可能是进程正常结束或其他原因中断退出运行。
- 结束状态（terminated）：进程正在从系统中消失。可能是进程正常结束或其他原因中断退出运行。

![进程状态](https://images.xiaozhuanlan.com/photo/2019/d38202593012b457debbcd74994c6292.png)

## 3、对比线程的生命周期和状态？
![线程状态](https://images.xiaozhuanlan.com/photo/2019/47ae97a321321dcde1fc23a7ed9a59df.png)

## 4、进程间的通信的几种方式？
- 1）管道/匿名管道（Pipes）：用于具有亲缘关系的父子进程间或者兄弟进程之间的通信。
- 2）有名管道（Names Pipes）：匿名管道由于没有名字，只能用于亲缘关系的进程间通信。为了克服这个缺点，提出了有名管道。有名管道严格遵循先进先出(first in first out)。有名管道以磁盘文件的方式存在，可以实现本机任意两个进程通信。
- 3）信号（Signal）：信号是一种比较复杂的通信方式，用于通知接收进程某个事件已经发生。
- 4）消息队列（Message Queuing）：消息队列是消息的链表,具有特定的格式,存放在内存中并由消息队列标识符标识。管道和消息队列的通信数据都是先进先出的原则。与管道（无名管道：只存在于内存中的文件；命名管道：存在于实际的磁盘介质或者文件系统）不同的是消息队列存放在内核中，只有在内核重启(即，操作系统重启)或者显示地删除一个消息队列时，该消息队列才会被真正的删除。消息队列可以实现消息的随机查询,消息不一定要以先进先出的次序读取,也可以按消息的类型读取.比FIFO更有优势。消息队列克服了信号承载信息量少，管道只能承载无格式字 节流以及缓冲区大小受限等缺。
- 5）信息量（Semaphores）：信号量是一个计数器，用于多进程对共享数据的访问，信号量的意图在于进程间同步。这种通信方式主要用于解决与同步相关的问题并避免竞争条件。
- 6）共享内存（Shared memory）：
- 套接字（Sockets）：此方法主要用于在客户端和服务器之间通过网络进行通信。套接字是支持TCP/IP的网络通信的基本操作单元，可以看做是不同主机之间的进程进行双向通信的端点，简单的说就是通信的两方的一种约定，用套接字中的相关函数来完成通信过程。

## 5、线程同步的方式？
- 互斥量（Mutex）：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。比如 Java 中的 synchronized 关键词和各种 Lock 都是这种机制。

- 信号量（Semphares）：它允许同一时刻多个线程访问同一资源，但需要控制同一时刻访问此资源的最大线程数量。

- 事件（Event）：Wait/Notify：通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操。

## 6、操作系统中进程的调度策略有哪些？
为了确定首先执行哪个进程以及最后执行哪个进程以实现最大CPU利用率，计算机科学家已经定义了一些算法，它们是：
- 先到先服务（FCFS）调度算法：
- 短作业优先（SJF）的调度算法：
- 时间轮转调度算法：
- 多级反馈队列调度算法：
- 优先级调度：

## 7、什么是虚拟内存（Virtual Memory）？
很多时候我们使用点了开了很多占内存的软件，这些软件占用的内存可能已经远远超出了我们电脑本身具有的物理内存。为什么可以这样呢？ 正是因为 虚拟内存 的存在，通过 虚拟内存 可以让程序可以拥有超过系统物理内存大小的可用内存空间。另外，虚拟内存为每个进程提供了一个一致的、私有的地址空间，它让每个进程产生了一种自己在独享主存的错觉（每个进程拥有一片连续完整的内存空间）。这样会更加有效地管理内存并减少出错。

虚拟内存是计算机系统内存管理的一种技术，我们可以手动设置自己电脑的虚拟内存。不要单纯认为虚拟内存只是“使用硬盘空间来扩展内存“的技术。虚拟内存的重要意义是它定义了一个连续的虚拟地址空间，并且 把内存扩展到硬盘空间。

## 8、页面置换算法的作用?常见的页面置换算法有哪些?
地址映射过程中，若在页面中发现所要访问的页面不在内存中，则产生缺页中断 。当发生缺页中断时，如果操作系统内存中没有空闲页面，则操作系统 必须在内存选择一个页面将其移出内存，以便为即将调入的页面让出空间。而用来选择淘汰哪一页的规则叫做页面置换算法，页面置换算法的作用是 实现虚拟存储管理。

- OPT页面置换算法（最佳页面置换算法） ：理想情况，不可能实现，一般作为衡量其他置换算法的方法。
- FIFO页面置换算法（先进先出页面置换算法） : 总是淘汰最先进入内存的页面，即选择在内存中驻留时间最久的页面进行淘汰。
- LRU页面置换算法（最近未使用页面置换算法） ：LRU（Least Currently Used）算法赋予每个页面一个访问字段，用来记录一个页面自上次被访问以来所经历的时间T，当须淘汰一个页面时，选择现有页面中其T值最大的，即最近最久未使用的页面予以淘汰。
- LFU页面置换算法（最少使用页面排序算法） : LFU（Least Frequently Used）算法会让系统维护一个按最近一次访问时间排序的页面链表，链表首节点是最近刚刚使用过的页面，链表尾节点是最久未使用的页面。访问内存时，找到相应页面，并把它移到链表之首。缺页时，置换链表尾节点的页面。也就是说内存内使用越频繁的页面，被保留的时间也相对越长。

> 推荐阅读[java面试之操作系统](https://xiaozhuanlan.com/topic/3748052961)